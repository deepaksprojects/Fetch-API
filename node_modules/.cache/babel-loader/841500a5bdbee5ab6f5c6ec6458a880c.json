{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Lenovo/OneDrive/Desktop/Kalpastask/fetch-data/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Lenovo/OneDrive/Desktop/Kalpastask/fetch-data/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Lenovo/OneDrive/Desktop/Kalpastask/fetch-data/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Pagination from\"./pagination\";import\"./style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var News=function News(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(6),_useState4=_slicedToArray(_useState3,1),postPerPage=_useState4[0];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrentPage=_useState6[1];var getUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://jsonplaceholder.typicode.com/posts\");case 2:response=_context.sent;_context.t0=setUser;_context.next=6;return response.json();case 6:_context.t1=_context.sent;(0,_context.t0)(_context.t1);case 8:case\"end\":return _context.stop();}}},_callee);}));return function getUser(){return _ref.apply(this,arguments);};}();useEffect(function(){getUser();},[]);var pageNumber=[];for(var i=1;i<=3;i++){pageNumber.push(i);}// get Current post\nvar indexOfLastPost=currentPage*postPerPage;var indexOfFirstPost=indexOfLastPost-postPerPage;var currentPosts=user.slice(indexOfFirstPost,indexOfLastPost);// changePage\nvar paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};// function\nvar handlePrev=function handlePrev(){var page=currentPage-1;setCurrentPage(page);};var handleNext=function handleNext(){var page=currentPage+1;setCurrentPage(page);};var handleDelete=function handleDelete(index){var newItem=user.filter(function(curEle){return curEle.id!=index;});setUser(newItem);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"news-div\",children:currentPosts.map(function(curEle){return/*#__PURE__*/_jsxs(\"div\",{className:\"news-c-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"img-div\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\\\\images\\\\close.svg\",alt:\"\",onClick:function onClick(){return handleDelete(curEle.id);}})}),/*#__PURE__*/_jsx(\"h1\",{children:curEle.title}),/*#__PURE__*/_jsx(\"p\",{children:curEle.body})]},curEle.id);})}),/*#__PURE__*/_jsx(Pagination,{currentPage:currentPage,handlePrev:handlePrev,handleNext:handleNext,pageNumber:pageNumber,paginate:paginate})]})});};export default News;","map":{"version":3,"sources":["C:/Users/Lenovo/OneDrive/Desktop/Kalpastask/fetch-data/src/component/news.js"],"names":["React","useEffect","useState","Pagination","News","user","setUser","postPerPage","currentPage","setCurrentPage","getUser","fetch","response","json","pageNumber","i","push","indexOfLastPost","indexOfFirstPost","currentPosts","slice","paginate","handlePrev","page","handleNext","handleDelete","index","newItem","filter","curEle","id","map","title","body"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Pagination from \"./pagination\";\r\nimport \"./style.css\";\r\n\r\nconst News = () => {\r\n  const [user, setUser] = useState([]);\r\n  const [postPerPage] = useState(6);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const getUser = async () => {\r\n    const response = await fetch(\"https://jsonplaceholder.typicode.com/posts\");\r\n    setUser(await response.json());\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUser();\r\n  }, []);\r\n\r\n  const pageNumber = [];\r\n\r\n  for (let i = 1; i <= 3; i++) {\r\n    pageNumber.push(i);\r\n  }\r\n\r\n  // get Current post\r\n  const indexOfLastPost = currentPage * postPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postPerPage;\r\n  const currentPosts = user.slice(indexOfFirstPost, indexOfLastPost);\r\n\r\n  // changePage\r\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\r\n\r\n  // function\r\n  const handlePrev = () => {\r\n    const page = currentPage - 1;\r\n    setCurrentPage(page);\r\n  };\r\n  const handleNext = () => {\r\n    const page = currentPage + 1;\r\n    setCurrentPage(page);\r\n  };\r\n\r\n  const handleDelete = (index) => {\r\n    const newItem = user.filter((curEle) => {\r\n      return curEle.id != index;\r\n    });\r\n    setUser(newItem);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <div className=\"news-div\">\r\n          {currentPosts.map((curEle) => {\r\n            return (\r\n              <div className=\"news-c-div\" key={curEle.id}>\r\n                <div className=\"img-div\">\r\n                  <img\r\n                    src=\"\\images\\close.svg\"\r\n                    alt=\"\"\r\n                    onClick={() => handleDelete(curEle.id)}\r\n                  />\r\n                </div>\r\n                <h1>{curEle.title}</h1>\r\n                <p>{curEle.body}</p>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <Pagination\r\n          currentPage={currentPage}\r\n          handlePrev={handlePrev}\r\n          handleNext={handleNext}\r\n          pageNumber={pageNumber}\r\n          paginate={paginate}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default News;\r\n"]},"metadata":{},"sourceType":"module"}